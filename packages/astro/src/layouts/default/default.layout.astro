---
import { AppHeader } from '../../components/app-header';
import { AppContent } from '../../components/app-content';
import { HtmlRoot } from '../../components/html-root';
import { getDbUxAstroConfig } from '../../config/config.utils';
import type { FrontMatter } from 'src/types';
import type { MarkdownHeading } from 'astro';

const { headings = [] as MarkdownHeading[], frontmatter = {} as FrontMatter } =
  Astro.props as {
    headings: MarkdownHeading[];
    frontmatter: FrontMatter;
  };

const { appName } = getDbUxAstroConfig();
const pageTitle = frontmatter.title
  ? `${frontmatter.title} | ${appName}`
  : appName;
---

<HtmlRoot title={pageTitle}>
  <div class="dba-header-container">
    <AppHeader client:only="react" />
  </div>
  <AppContent headings={headings} frontMatter={frontmatter}>
    <slot />
  </AppContent>
</HtmlRoot>

<style>
  .dba-header-container {
    min-height: var(--dba-header-height);
    position: fixed;
    top: 0;
    width: 100svw;
  }
</style>
