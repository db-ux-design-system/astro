---
import { TableOfContents } from './table-of-contents.component';
import { type AppContentProps } from './app-content.types';
import './app-content.styles.css';

const { headings, title, toc } = {
  headings: [],
  toc: true,
  ...(Astro.props as AppContentProps),
};
console.log(title);
console.log(toc);
const showToc = headings.length > 0 && toc !== false;
---

<main class="dba-main">
  {showToc && <TableOfContents client:only astro={Astro} headings={headings} />}
  <article class="dba-main-inner">
    <div class="dba-main-content">
      {
        title && (
          <>
            <h1 class="dba-article-heading">{title}</h1>
            <span class="dba-pulse-underline" aria-hidden="true" />
          </>
        )
      }
      <slot />
    </div>
  </article>
</main>

<style></style>
